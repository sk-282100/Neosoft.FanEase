@using Neosoft.FAMS.Application.Features.ContentCreatorDashboard.Queries.TopVideo
@using Neosoft.FAMS.Application.Features.ContentCreatorDashboard.Queries.TopCampaign

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var records = (List<GetTopVideoDto>)ViewData["records"];
    var CreatorStatVideos = TempData["CreatorStatVideos"];
    var topCampaign = (List<GetTopCampaignDto>)ViewData["CampaignDetails"];
    var CreatorStatAdvertisements = TempData["CreatorStatAdvertisements"];
    var CreatorStatViews = TempData["CreatorStatViews"];
    var CreatorStatLikes = TempData["CreatorStatLikes"];
    var CreatorStatShares = TempData["CreatorStatShares"];
    var LatestCreatorVideo = TempData["LatestCreatorVideo"];
    var LatestCreatorAds = TempData["LatestCreatorAds"];
    var CreatorLatestViews = TempData["CreatorLatestViews"];
    var CreatorLatestLikes = TempData["CreatorLatestLikes"];
    var session = Convert.ToInt64(TempData["CreatorId"]);


}
<head>
    <link rel="stylesheet" href="~/css/temp.css" />
    <link rel="stylesheet" href="~/css/AdminDashboard.css" />
    <script src="~/js/CreatorDashboard.js"></script>
</head>
<div class="container-fluid">
<div class="row" style="background-color: #F5F5F5;">
@Html.Partial("_CreatorSideBar")
<div class="col">
<div class="jumbotron" style="margin: 15px 13px 5px 5px; max-height: 400px; padding-top: 5px;padding-bottom: 5px;">
    <h2 class="h4 font-weight-bold text-left mb-4" style="color: black; text-transform: capitalize;">Account Analysis</h2>
    <div class="row">
        <div class="col-xl-3 col-lg-6 mb-4">
            <div class="bg-white rounded-lg p-3 shadow">
                <h2 class="h6 font-weight-bold text-center mb-4" style="text-transform: capitalize;">Live Videos</h2>
                <h3 class="h6 font-weight-bold text-center mb-4" style="text-transform: capitalize;">@CreatorStatVideos</h3>

                <!-- Progress bar 1 -->
                <div class="progress mx-auto" data-value='@CreatorStatVideos' data-value-temp='@LatestCreatorVideo'>
                    <span class="progress-left">
                        <span class="progress-bar border-orange"></span>
                    </span>
                    <span class="progress-right">
                        <span class="progress-bar border-orange"></span>
                    </span>
                    <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                        <div class="h2 font-weight-bold" data-value="@LatestCreatorVideo">+@LatestCreatorVideo<sup class="small"></sup></div>
                    </div>
                </div>

            </div>
        </div>

        <div class="col-xl-3 col-lg-6 mb-4">
            <div class="bg-white rounded-lg p-3 shadow">
                <h2 class="h6 font-weight-bold text-center mb-4" style="text-transform: capitalize;">Live Advertisements</h2>
                <h3 class="h6 font-weight-bold text-center mb-4" style="text-transform: capitalize;">@CreatorStatAdvertisements</h3>

                <!-- Progress bar 2 -->
                <div class="progress mx-auto" data-value='@CreatorStatAdvertisements' data-value-temp='@LatestCreatorAds'>
                    <span class="progress-left">
                        <span class="progress-bar border-orange"></span>
                    </span>
                    <span class="progress-right">
                        <span class="progress-bar border-orange"></span>
                    </span>
                    <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                        <div class="h2 font-weight-bold" data-value="@LatestCreatorAds">+@LatestCreatorAds<sup class="small"></sup></div>
                    </div>
                </div>

            </div>
        </div>

        <div class="col-xl-3 col-lg-6 mb-4">
            <div class="bg-white rounded-lg p-3 shadow">
                <h2 class="h6 font-weight-bold text-center mb-4" style="text-transform: capitalize;">Total Video Views</h2>
                <h3 class="h6 font-weight-bold text-center mb-4" style="text-transform: capitalize;">@CreatorStatViews</h3>

                <!-- Progress bar 3 -->
                <div class="progress mx-auto" data-value='@CreatorStatViews' data-value-temp='@CreatorLatestViews'>
                    <span class="progress-left">
                        <span class="progress-bar border-orange"></span>
                    </span>
                    <span class="progress-right">
                        <span class="progress-bar border-orange"></span>
                    </span>
                    <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                        <div class="h2 font-weight-bold" data-value="@CreatorLatestViews">+@CreatorLatestViews<sup class="small"></sup></div>
                    </div>
                </div>

            </div>
        </div>
        <input type="text" id="CreatorId" value="@session" hidden />
        <div class="col-xl-3 col-lg-6 mb-4">
            <div class="bg-white rounded-lg p-3 shadow">
                <h2 class="h6 font-weight-bold text-center mb-4" style="text-transform: capitalize;">Total Video Likes</h2>
                <h3 class="h6 font-weight-bold text-center mb-4" style="text-transform: capitalize;">@CreatorStatLikes</h3>

                <!-- Progress bar 4 -->
                <div class="progress mx-auto" data-value='@CreatorStatLikes' data-value-temp='@CreatorLatestLikes'>
                    <span class="progress-left">
                        <span class="progress-bar border-orange"></span>
                    </span>
                    <span class="progress-right">
                        <span class="progress-bar border-orange"></span>
                    </span>
                    <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                        <div class="h2 font-weight-bold" data-value="@CreatorLatestLikes">+@CreatorLatestLikes<sup class="small"></sup></div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="form-row">
    <div class="form-group col-md-6">
        <div class="jumbotron" style="max-height: 650px; margin: 10px 10px 10px 5px; padding-top: 30px; padding-bottom: 30px;">
            <div class="panel panel-top">
                <div class="panel-heading">

                    <select style="width: 200px; float: right; margin-right: 5px; margin-top: 5px;" class="form-select" aria-label="Default select example" name="Year" id="selectYear" required>
                    </select><br /><br/>

                    <div id="chartContainer" style="height: 500px; width: 100%;"></div>
                    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group col-md-6">
        <div class="jumbotron" style="margin: 10px 13px 10px 0px; max-height: 628px; padding-top: 30px; padding-bottom: 30px;">
            <div class="panel panel-top">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-md-4">
                            <a href="#" class="active" id="TV-form-link">Top Videos</a>
                        </div>
                        <div class="col-md-4">
                            <a href="#" id="TC-form-link">Top Campaigns</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" id="TV-form" style="height: 523px;">
                <div class="card-body">

                    
                            @if (records.Count <= 0)
                            {
                                <h6 style="text-align: center;"><b>No Record Found</b></h6>
                            }
                            else
                            {
                                <div class="table-responsive" style="max-height: 480px;">
                                    <table class="table table-borderless" style="max-height: 600px;">
                                        <thead>
                                        <tr class="border-bottom">
                                            <th style="padding: 0px 2px 0px 40px;"></th>
                                            <th style="padding: 0px 2px 0px 40px;">Views</th>
                                            <th style="padding: 0px 2px 0px 40px;">Clicks</th>
                                            <th style="padding: 0px 2px 0px 40px;">Shares</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        @foreach (var record in records)
                                        {
                                            <tr class="border-bottom">
                                                <td>
                                                    <b>@record.Title</b><br/>
                                                    <video id="my_video_1"
                                                           class="video-js vjs-default-skin vjs-big-play-centered"
                                                           width="200px" height="80px"
                                                           controls
                                                           preload="none" poster='/Uploads/Creators/Videos/@record.UploadVideoPath'
                                                           @*data-setup='{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2] }'*@>
                                                        <source src="/Uploads/Creators/Videos/@record.UploadVideoPath" type='video/mp4'/>
                                                    </video>

                                                </td>
                                                <td style="padding: 50px;">@record.topViews</td>
                                                <td style="padding: 50px;">@record.topClicks</td>
                                                <td style="padding: 50px;">@record.topShares</td>
                                            </tr>
                                        
                                        }
                                        </tbody>
                                    </table>
                                </div>
                            }
                </div>
            </div>
            <div class="card" id="TC-form" style="display: none; height: 523px;">
                <div class="card-body">


                    @if (topCampaign.Count <= 0)
                    {
                        <h6 style="text-align: center;"><b>No Record Found</b></h6>
                    }
                    else
                    {
                        <div class="table-responsive" style="height: 480px;">
                            <table class="table table-borderless" style="max-height: 600px;">
                                <thead>
                                <tr class="border-bottom">
                                    <th style="padding: 0px 2px 0px 40px;">Campaign Name</th>
                                    <th style="padding: 0px 2px 0px 40px;">Views</th>
                                    <th style="padding: 0px 2px 0px 40px;">Clicks</th>
                                    <th style="padding: 0px 2px 0px 40px;">Likes</th>
                                </tr>
                                </thead>
                                <tbody>

                                @foreach (var tC in topCampaign)
                                {
                                    <tr class="border-bottom">
                                        <td style="padding-left: 40px;">
                                            <b>@tC.CampaignName</b>

                                        </td>
                                        <td style="padding-left: 50px;">@tC.ViewCount</td>
                                        <td style="padding-left: 50px;">@tC.ClickCount</td>
                                        <td style="padding-left: 50px;">@tC.LikeCount</td>
                                    </tr>
                                }
                                </tbody>
                            </table>
                        </div>
                    }

                </div>


            </div>
        </div>
    </div>
</div>
</div>
</div>
</div>
    @section Scripts{

        <script src="~/js/sideBar.js"></script>
    }








