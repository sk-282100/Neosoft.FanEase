@using Neosoft.FAMS.Application.Features.AdminDashboard.Queries.GetAll
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    //var records = TempData["records"];
    var records = (List<GetTopVideoDto>)ViewData["records"];
    var ContentCreator = TempData["ContentCreator"];
    var Advertisements = TempData["Advertisements"];
    var Videos = TempData["Videos"];
    var Views = TempData["Views"];
    var LatestCreator = TempData["LatestCreator"];
    var LatestAdvertisements = TempData["LatestAdvertisements"];
    var LatestVideos = TempData["LatestVideos"];
    var LatestViews = TempData["LatestViews"];


}
<head>
    <link rel="stylesheet" href="~/css/temp.css" />
    <link rel="stylesheet" href="~/css/AdminDashboard.css" />
    <script src="~/js/AdminDashboard.js"></script>
    <script>
        window.onload = function () {

            var chart = new CanvasJS.Chart("chartContainer", {
                animationEnabled: true,
                theme: "light2",
                title: {
                    text: ""
                },
                data: [{
                    type: "line",
                    indexLabelFontSize: 16,
                    dataPoints: [
                        { y: 450 },
                        { y: 414 },
                        { y: 520, indexLabel: "\u2191 highest", markerColor: "red", markerType: "triangle" },
                        { y: 460 },
                        { y: 450 },
                        { y: 500 },
                        { y: 480 },
                        { y: 480 },
                        { y: 410, indexLabel: "\u2193 lowest", markerColor: "DarkSlateGrey", markerType: "cross" },
                        { y: 500 },
                        { y: 480 },
                        { y: 510 }
                    ]
                }]
            });
            chart.render();

        }
    </script>
</head>
<div class="row" style="background-color: #F5F5F5;">
    @Html.Partial("_SideBar")
    <div class="col pt-2">
        <div class="jumbotron" style="margin: 10px 5px 5px 5px; height: 400px;">
            <h2 class="h6 font-weight-bold text-left mb-4" style="color: black;">Account Analysis</h2>
            <div class="row">
                <div class="col-xl-3 col-lg-6 mb-4">
                    <div class="bg-white rounded-lg p-3 shadow">
                        <h2 class="h6 font-weight-bold text-center mb-4">Content Creators</h2>
                        <h3 class="h6 font-weight-bold text-center mb-4">@ContentCreator</h3>

                        <!-- Progress bar 1 -->
                        <div class="progress mx-auto" data-value='@ContentCreator'>
                            <span class="progress-left">
                                <span class="progress-bar border-primary"></span>
                            </span>
                            <span class="progress-right">
                                <span class="progress-bar border-primary"></span>
                            </span>
                            <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                                <div class="h2 font-weight-bold">+@LatestCreator<sup class="small"></sup></div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="col-xl-3 col-lg-6 mb-4">
                    <div class="bg-white rounded-lg p-3 shadow">
                        <h2 class="h6 font-weight-bold text-center mb-4">Advertisements</h2>
                        <h3 class="h6 font-weight-bold text-center mb-4">@Advertisements</h3>

                        <!-- Progress bar 2 -->
                        <div class="progress mx-auto" data-value='@Advertisements'>
                            <span class="progress-left">
                                <span class="progress-bar border-primary"></span>
                            </span>
                            <span class="progress-right">
                                <span class="progress-bar border-primary"></span>
                            </span>
                            <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                                <div class="h2 font-weight-bold">+@LatestAdvertisements<sup class="small"></sup></div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="col-xl-3 col-lg-6 mb-4">
                    <div class="bg-white rounded-lg p-3 shadow">
                        <h2 class="h6 font-weight-bold text-center mb-4">Videos Uploaded</h2>
                        <h3 class="h6 font-weight-bold text-center mb-4">@Videos</h3>

                        <!-- Progress bar 3 -->
                        <div class="progress mx-auto" data-value='@Videos'>
                            <span class="progress-left">
                                <span class="progress-bar border-primary"></span>
                            </span>
                            <span class="progress-right">
                                <span class="progress-bar border-primary"></span>
                            </span>
                            <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                                <div class="h2 font-weight-bold">+@LatestVideos<sup class="small"></sup></div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="col-xl-3 col-lg-6 mb-4">
                    <div class="bg-white rounded-lg p-3 shadow">
                        <h2 class="h6 font-weight-bold text-center mb-4">Views on Videos</h2>
                        <h3 class="h6 font-weight-bold text-center mb-4">@Views</h3>

                        <!-- Progress bar 4 -->
                        <div class="progress mx-auto" data-value='@Views'>
                            <span class="progress-left">
                                <span class="progress-bar border-primary"></span>
                            </span>
                            <span class="progress-right">
                                <span class="progress-bar border-primary"></span>
                            </span>
                            <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                                <div class="h2 font-weight-bold">+@LatestViews<sup class="small"></sup></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


        <div class="form-row">
            <div class="form-group col-md-6">
                <div class="jumbotron" style="height:650px;margin:10px 10px 10px 5px;">
                    <div class="panel panel-top">
                        <div class="panel-heading">
                            <h2 class="h6 font-weight-bold text-left mb-4" style="color: black; text-align: left;">Engagement Analysis</h2>
                            <div id="chartContainer" style="height: 500px; width: 100%;"></div>
                            <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group col-md-6" style="height: 400px;">
                <div class="jumbotron" style="margin: 10px 5px 10px 0px; height: 650px;">
                    <div class="panel panel-top" style="width: 580px;">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-md-4">
                                    <a href="#" class="active" id="TV-form-link">TOP VIDEOS</a>
                                </div>
                                <div class="col-md-4">
                                    <a href="#" id="TC-form-link">TOP CAMPAIGNS</a>
                                </div>
                            </div>
                            <hr>
                        </div>
                    </div>

                    <div class="card" id="TV-form" style="height: 505px; width: 580px;">
                        <div class="card-body" style="height: 480px;">

                            <div class="table-responsive" style="height: 480px;">
                                <table class="table table-borderless" style="height: 600px;">
                                    <thead>
                                        <tr>
                                            <th style="padding: 0px 2px 0px 40px;"></th>
                                            <th style="padding: 0px 2px 0px 40px;">Views</th>
                                            <th style="padding: 0px 2px 0px 40px;">Clicks</th>
                                            <th style="padding: 0px 2px 0px 40px;">Shares</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    @foreach (var record in records)
                                    {
                                        <tr class="border">
                                            <td>
                                                <b>@record.Title</b><br />
                                                <video id="my_video_1"
                                                       class="video-js vjs-default-skin vjs-big-play-centered"
                                                       width="200px" height="80px"
                                                       controls
                                                       preload="none" poster='/Uploads/Creators/Videos/@record.UploadVideoPath'
                                                       @*data-setup='{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2] }'*@>
                                                <source src="/Uploads/Creators/Videos/@record.UploadVideoPath" type='video/mp4'/></video>
                                                
                                            </td>
                                            <td style="padding: 50px;">@record.topViews</td>
                                            <td style="padding: 50px;">@record.topClicks</td>
                                            <td style="padding: 50px;">@record.topShares</td>
                                        </tr>
                                    }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="card" id="TC-form" style="display: none;width: 580px;">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-borderless">
                                    <h6><b>No Record Found</b></h6>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts{

    <script src="~/js/sideBar.js"></script>
}



